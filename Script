local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local backpack = player:WaitForChild("Backpack")

-- UI
local screenGui = Instance.new("ScreenGui", player.PlayerGui)
screenGui.Name = "PetDupeUI"
screenGui.ResetOnSpawn = false

local petTabFrame = Instance.new("Frame", screenGui)
petTabFrame.Size = UDim2.new(0, 300, 0, 350)
petTabFrame.Position = UDim2.new(0.5, -150, 0.5, -175)
petTabFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
petTabFrame.BorderSizePixel = 0
Instance.new("UICorner", petTabFrame).CornerRadius = UDim.new(0, 10)

-- Title
local title = Instance.new("TextLabel", petTabFrame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Pet Dupe UI"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 22

-- Dropdown Pet List
local dropdown = Instance.new("TextButton", petTabFrame)
dropdown.Size = UDim2.new(0.9, 0, 0, 30)
dropdown.Position = UDim2.new(0.05, 0, 0.15, 0)
dropdown.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
dropdown.Text = "Select Pet"
dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
dropdown.Font = Enum.Font.Gotham
dropdown.TextSize = 14
Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 5)

-- Amount Controls
local amount = 1
local amountLabel = Instance.new("TextLabel", petTabFrame)
amountLabel.Size = UDim2.new(0.4, 0, 0, 30)
amountLabel.Position = UDim2.new(0.3, 0, 0.3, 0)
amountLabel.BackgroundTransparency = 1
amountLabel.Text = tostring(amount)
amountLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
amountLabel.Font = Enum.Font.GothamBold
amountLabel.TextSize = 18

local minusBtn = Instance.new("TextButton", petTabFrame)
minusBtn.Size = UDim2.new(0.2, 0, 0, 30)
minusBtn.Position = UDim2.new(0.05, 0, 0.3, 0)
minusBtn.Text = "-"
minusBtn.Font = Enum.Font.GothamBold
minusBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minusBtn.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
Instance.new("UICorner", minusBtn).CornerRadius = UDim.new(0, 5)

local plusBtn = Instance.new("TextButton", petTabFrame)
plusBtn.Size = UDim2.new(0.2, 0, 0, 30)
plusBtn.Position = UDim2.new(0.75, 0, 0.3, 0)
plusBtn.Text = "+"
plusBtn.Font = Enum.Font.GothamBold
plusBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
plusBtn.BackgroundColor3 = Color3.fromRGB(0, 80, 0)
Instance.new("UICorner", plusBtn).CornerRadius = UDim.new(0, 5)

-- Buttons
local spawnBtn = Instance.new("TextButton", petTabFrame)
spawnBtn.Size = UDim2.new(0.4, 0, 0, 30)
spawnBtn.Position = UDim2.new(0.05, 0, 0.45, 0)
spawnBtn.Text = "Spawn"
spawnBtn.Font = Enum.Font.GothamBold
spawnBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
spawnBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
Instance.new("UICorner", spawnBtn).CornerRadius = UDim.new(0, 5)

local dupeBtn = Instance.new("TextButton", petTabFrame)
dupeBtn.Size = UDim2.new(0.4, 0, 0, 30)
dupeBtn.Position = UDim2.new(0.55, 0, 0.45, 0)
dupeBtn.Text = "Dupe"
dupeBtn.Font = Enum.Font.GothamBold
dupeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
dupeBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
Instance.new("UICorner", dupeBtn).CornerRadius = UDim.new(0, 5)

-- Progress bar
local progressBar = Instance.new("Frame", petTabFrame)
progressBar.Size = UDim2.new(0.9, 0, 0, 8)
progressBar.Position = UDim2.new(0.05, 0, 0.92, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
progressBar.BorderSizePixel = 0
Instance.new("UICorner", progressBar).CornerRadius = UDim.new(0, 4)

local fill = Instance.new("Frame", progressBar)
fill.Size = UDim2.new(0, 0, 1, 0)
fill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
fill.BorderSizePixel = 0
Instance.new("UICorner", fill).CornerRadius = UDim.new(0, 4)

-- Dummy pet list (replace with your own)
local petOptions = {"Cat", "Dog", "Dragon"}
local selectedPet = petOptions[1]
dropdown.Text = selectedPet

-- Dropdown change on click
dropdown.MouseButton1Click:Connect(function()
	local currentIndex = table.find(petOptions, selectedPet)
	local nextIndex = currentIndex % #petOptions + 1
	selectedPet = petOptions[nextIndex]
	dropdown.Text = selectedPet
end)

-- Amount control
plusBtn.MouseButton1Click:Connect(function()
	amount += 1
	amountLabel.Text = tostring(amount)
end)

minusBtn.MouseButton1Click:Connect(function()
	amount = math.max(1, amount - 1)
	amountLabel.Text = tostring(amount)
end)

-- Tweened progress bar
local function animateProgress(duration, callback)
	fill.Size = UDim2.new(0, 0, 1, 0)
	local tween = TweenService:Create(fill, TweenInfo.new(duration), {Size = UDim2.new(1, 0, 1, 0)})
	tween:Play()
	tween.Completed:Connect(function()
		fill.Size = UDim2.new(0, 0, 1, 0)
		if callback then callback() end
	end)
end

-- Fake visual pet spawn (edit this logic)
local function spawnPet()
	for i = 1, amount do
		local visualPet = Instance.new("Part")
		visualPet.Size = Vector3.new(2, 2, 2)
		visualPet.Name = selectedPet
		visualPet.Anchored = true
		visualPet.CanCollide = false
		visualPet.Transparency = 1
		visualPet.Position = player.Character and player.Character:GetPivot().Position + Vector3.new(i * 2, 2, 0) or Vector3.new(0, 2, 0)
		visualPet.BrickColor = BrickColor.Random()
		visualPet.Parent = workspace

		local fadeTween = TweenService:Create(visualPet, TweenInfo.new(0.5), {Transparency = 0})
		fadeTween:Play()
	end
end

-- SPAWN button
spawnBtn.MouseButton1Click:Connect(function()
	animateProgress(1.2, function()
		spawnPet()
	end)
end)

-- DUPE button
dupeBtn.MouseButton1Click:Connect(function()
	animateProgress(1, function()
		spawnPet()
	end)
end)
